# Changelog - Version 5.7.2 (2026-01-23)

## Version Information

* Updated version from 5.7.1 to 5.7.2
* Critical bug fix for TTS functionality

## Bug Fixes

* **Fixed TTS Settings Database Query Error**
  * Resolved MySQL error: "Unknown column 'user' in 'where clause'"
  * Corrected TTS settings query to match actual database schema
  * Changed query from `SELECT voice, language FROM tts_settings WHERE user = %s` to `SELECT voice, language FROM tts_settings LIMIT 1`
  * Removed incorrect parameter passing since the `tts_settings` table does not have a `user` column
  * The table stores global TTS settings per channel (only contains `id`, `voice`, and `language` fields)
  * Applied fix to all three bot systems:
    * bot.py
    * beta.py
    * beta-v6.py

## Technical Details

* The TTS settings query was attempting to filter by a non-existent `user` column
* Based on the table schema in `usr_database.php`, the `tts_settings` table only contains:
  * `id` (Primary Key)
  * `voice` (VARCHAR)
  * `language` (VARCHAR)
* The query now correctly fetches the channel's global TTS settings without user-specific filtering
* Maintains proper fallback to default values ('default' voice, 'en' language) when no settings are found or on database errors

**Thank you for your feedback and support!**

As always, your feedback is appreciated. Please report any issues or suggestions in the #ticket-info channel on our Discord server. You can also submit feedback directly on our website: [https://botofthespecter.com/feedback.php](https://botofthespecter.com/feedback.php)
