# Changelog - Version 5.7.5 (2026-02-20)

## Version Information

* Updated version from 5.7.4 to 5.7.5
* Hotfix for the Stable bot: subathon schema + event flow alignment

## Bug Fixes

* **Fixed missing `subathon` table setup**
  * Added managed schema creation for the `subathon` runtime table so `!subathon` start/pause/resume/addtime/status operations have a guaranteed backing table.
  * Prevents runtime failures where bot queries wrote to a table that did not yet exist.

* **Fixed subathon settings persistence behavior**
  * Updated dashboard settings save logic to update the latest row instead of creating duplicate rows on each save.
  * Aligned reads to use the latest settings row (`ORDER BY id DESC LIMIT 1`) for stable/beta bot runtime consistency.

* **Fixed subathon overlay payload compatibility**
  * Updated overlay event handling to match emitted payload keys (`starting_minutes`, `remaining_minutes`, `added_minutes`).
  * Removed dependency on non-existent payload fields (`totalTime`, `additionalTime`, `message`) so timer display updates correctly.

* **Fixed `SUBATHON_STOP` websocket notice guard**
  * Allowed stop events to be emitted without requiring extra payload data.
  * Prevents valid stop notices from being blocked by strict parameter checks.

## Technical Details

* Root cause was a mismatch between schema definitions, dashboard persistence behavior, and bot/overlay websocket payload expectations.
* Fixes implemented:
  * Added `subathon` table creation to managed schema in `dashboard/usr_database.php`.
  * Updated dashboard subathon settings write path in `dashboard/subathon.php` to perform deterministic update/insert behavior.
  * Updated subathon payload handling in `overlay/subathon.php` to consume real event keys.
  * Updated stable and beta bot websocket notice handling and settings reads in `bot/bot.py` and `bot/beta.py`.

**Thank you for your feedback and support!**

As always, your feedback is appreciated. Please report any issues, bugs, or suggestions in the #ticket-info channel on our Discord server. You can also submit feedback and bug reports directly on our website: [https://botofthespecter.com/feedback.php](https://botofthespecter.com/feedback.php)
